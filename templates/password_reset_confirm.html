{% extends 'base.html' %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <h2><i class="fas fa-lock"></i> Set New Password</h2>
            <p class="subtitle">Enter your new password</p>
        </div>

        {% if validlink %}
            <form method="post" class="auth-form">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="id_new_password1">New Password</label>
                    <input type="password" name="new_password1" id="id_new_password1" required 
                           class="form-control" placeholder="Enter new password">
                </div>

                <div class="form-group">
                    <label for="id_new_password2">Confirm Password</label>
                    <input type="password" name="new_password2" id="id_new_password2" required 
                           class="form-control" placeholder="Confirm new password">
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-primary">
                        <i class="fas fa-save"></i>
                        Change Password
                    </button>
                </div>
            </form>
        {% else %}
            <div class="auth-message">
                <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
            </div>
            <div class="auth-links">
                <a href="{% url 'password_reset' %}" class="auth-link">
                    <i class="fas fa-redo"></i>
                    Request New Reset Link
                </a>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %} 